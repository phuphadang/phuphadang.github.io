<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GitmintGo V7+V8</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Global Styles */
    body { background-color: #081c2c; color: #fff; font-family: 'Prompt', sans-serif; margin: 0; padding: 20px; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
    .container { max-width: 440px; width: 100%; text-align: center; }
    .main-car-image { width: 100%; max-width: 300px; margin: 0 auto 20px; }
    .search-container, .copilot, .form-group, .summary { margin-bottom: 15px; }
    .search-container { display: flex; align-items: center; background-color: #0A2239; border: 2px solid #33A3FF; border-radius: 12px; box-shadow: 0 0 15px rgba(51,163,255,0.7); padding: 4px; }
    .search-icon-wrapper { background-color: #081c2c; padding: 8px 12px; border-radius: 8px; }
    .search-icon-wrapper img { width: 24px; height: 24px; }
    .search-container input { flex:1; border:none; background:#fff; color:#333; padding:10px; margin:0 5px; border-radius:8px; }
    .gitmint-go-btn { background:linear-gradient(to right,#C04848,#480048); border:2px solid #7a5cff; color:#fff; padding:10px 15px; border-radius:8px; font-weight:bold; cursor:pointer; }
    .copilot { color:#66ccff; font-size:14px; }
    .form-group { text-align:left; }
    .form-group label { color:#aadfff; font-size:14px; display:block; margin-bottom:5px; }
    select, input[type="date"], input[type="time"] { width:100%; padding:10px; border-radius:8px; border:2px solid #7a5cff; background:#0A2239; color:#fff; }
    .date-time-group { display:flex; gap:10px; }
    .summary { background:#0b2540; padding:15px; border-radius:10px; border:1px solid #7a5cff; }
    .summary img { max-width:120px; margin-bottom:10px; }
    .summary h3 { color:#2bff9d; margin:0 0 10px; }
    .summary-line { display:flex; justify-content:space-between; font-size:14px; margin:5px 0; }
    .summary-line .label { color:#aaa; }
    .summary-line .value { font-weight:bold; }
    .button-group { display:flex; justify-content: center; gap:10px; margin-top: 10px; }
    .calculate-btn { background:#7a5cff; border:none; color:#fff; padding:12px 20px; border-radius:8px; font-weight:bold; cursor:pointer; display:flex; align-items:center; }
    .calculate-btn img { width:16px; height:16px; margin-right:6px; }
    .book-now-btn { background:linear-gradient(to right,#00d2ff,#3a7bd5); border:2px solid #54e2f1; color:#fff; padding:12px 20px; border-radius:8px; font-size:16px; font-weight:bold; cursor:pointer; display:flex; align-items:center; }
    .book-now-btn img { width:16px; height:16px; margin-left:6px; }
  </style>
</head>
<body>
  <div class="container">
    <img id="main-img" src="" alt="Car Image" class="main-car-image">
    <div class="search-container">
      <div class="search-icon-wrapper"><img src="https://api.iconify.design/material-symbols:search.svg?color=white" alt="Search"></div>
      <input type="text" id="search-input" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ">
      <button class="gitmint-go-btn">GitmintGo</button>
    </div>
    <div class="copilot">Copilot ‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏ä‡πà‡∏ß‡∏¢‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</div>
    <div class="form-group"><label for="car-model">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∏‡πà‡∏ô‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå</label><select id="car-model"></select></div>
    <div class="form-group"><label for="delivery-location">‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡∏°‡∏≠‡∏ö</label><select id="delivery-location"><option>‡∏™‡∏≤‡∏Ç‡∏≤‡∏´‡∏•‡∏±‡∏Å ‡∏£‡∏∏‡πà‡∏á‡πÇ‡∏£‡∏à‡∏ô‡πå ‡∏Ñ‡∏≤‡∏£‡πå‡πÄ‡∏£‡πâ‡∏ô‡∏ó‡πå</option><option>‡∏™‡∏≤‡∏Ç‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ</option><option>‡∏≠‡∏∑‡πà‡∏ô‡πÜ</option></select></div>
    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏£‡∏±‡∏ö‡∏£‡∏ñ</label><div class="date-time-group"><input type="time" id="start-time"><input type="date" id="start-date"></div></div>
    <div class="form-group"><label>‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Ñ‡∏∑‡∏ô‡∏£‡∏ñ</label><div class="date-time-group"><input type="time" id="end-time"><input type="date" id="end-date"></div></div>
    <div class="summary">
      <img id="summary-img" src="" alt="Summary">
      <h3 id="summary-name"></h3>
      <div class="summary-line"><span class="label">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤</span><span class="value" id="summary-duration"></span></div>
      <div class="summary-line"><span class="label" id="cost-label">‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</span><span class="value" id="summary-cost"></span></div>
    </div>
    <div class="button-group">
      <button class="calculate-btn" onclick="updateSummary()"><img src="https://api.iconify.design/mdi:calculator.svg" alt="Calc">‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</button>
      <button class="book-now-btn" onclick="notifyBooking()">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢<img src="https://api.iconify.design/mdi:rocket.svg" alt="Go"></button>
    </div>
  </div>
  <script>
    const filenameMap = {
      'New Yaris Sport': 'New-Yaris-Sport',
      'Almera Sportech': 'Nissan-Almera-Sportech',
      'Ciaz': 'Suzuki-Ciaz',
      'City Turbo': 'Honda-City-Turbo',
      'New Yaris Ativ': 'New-Yaris-Ativ',
      'Veloz': 'Toyota-Veloz',
      'Cross': 'Toyota-Corolla-Cross',
      'Xpander': 'Mitsubishi-Xpander',
      'Toyota revo 4door': 'Toyota-Revo-4-door',
      'ISUZU M-X': 'Isuzu-MU-X',
      'FORD RANGER RAPTOR': 'Ford-Ranger-Raptor',
      'Pajero Sport Elite Edition': 'Pajero-Sport-e'
    };

    const cars = Object.keys(filenameMap).map(name => ({ name, price: getPriceFor(name) }));

    function getPriceFor(name) {
      switch(name) {
        case 'New Yaris Sport': return 800;
        case 'Almera Sportech': return 800;
        case 'Ciaz': return 800;
        case 'City Turbo': return 1000;
        case 'New Yaris Ativ': return 900;
        case 'Veloz': return 1499;
        case 'Cross': return 1499;
        case 'Xpander': return 1499;
        case 'Toyota revo 4door': return 1499;
        case 'ISUZU M-X': return 1990;
        case 'FORD RANGER RAPTOR': return 2500;
        case 'Pajero Sport Elite Edition': return 1999;
      }
    }

    const carSelect = document.getElementById('car-model'),
          mainImg = document.getElementById('main-img'),
          summaryImg = document.getElementById('summary-img'),
          summaryName = document.getElementById('summary-name'),
          summaryDuration = document.getElementById('summary-duration'),
          summaryCost = document.getElementById('summary-cost'),
          costLabel = document.getElementById('cost-label'),
          startDate = document.getElementById('start-date'),
          startTime = document.getElementById('start-time'),
          endDate = document.getElementById('end-date'),
          endTime = document.getElementById('end-time');

    function pad(n) { return n < 10 ? '0' + n : n; }

    function getLocalDate() {
      const now = new Date(), tz = now.getTimezoneOffset() * 60000;
      return new Date(now.getTime() - tz + 7 * 3600000);
    }

    function initDateTime() {
      const now = getLocalDate(), tom = new Date(now);
      tom.setDate(now.getDate() + 1);
      startDate.value = now.toISOString().split('T')[0];
      endDate.value = tom.toISOString().split('T')[0];
      const t = pad(now.getHours()) + ':' + pad(now.getMinutes());
      startTime.value = endTime.value = t;
    }

    function formatImage(name) {
      const key = filenameMap[name];
      return `./src/image/${key}.png`;
    }

    cars.forEach(c => {
      const o = document.createElement('option');
      o.value = c.price;
      o.textContent = c.name;
      carSelect.appendChild(o);
    });

    function updateSummary() {
      const name = carSelect.options[carSelect.selectedIndex].text,
            price = parseFloat(carSelect.value),
            imgUrl = formatImage(name);
      summaryName.textContent = name;
      mainImg.src = imgUrl;
      summaryImg.src = imgUrl;
      const s = new Date(startDate.value), e = new Date(endDate.value), d = Math.ceil((e - s) / 86400000) || 1;
      summaryDuration.textContent = d + ' ‡∏ß‡∏±‡∏ô';
      const total = price * d;
      costLabel.textContent = `${d} √ó ${price.toLocaleString('th-TH')} =`;
      summaryCost.textContent = total.toLocaleString('th-TH') + ' ‡∏ø';
    }

    function notifyBooking() {
      updateSummary();
      window.open('https://m.me/rungroj.co.th', '_blank');
      window.open('https://page.line.me/rungroj', '_blank');
      alert(`üì© ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á:\nModel: ${summaryName.textContent}\n‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: ${summaryDuration.textContent}\n‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢: ${summaryCost.textContent}`);
    }

    window.onload = () => {
      initDateTime();
      updateSummary();
      carSelect.addEventListener('change', updateSummary);
      [startDate, endDate, startTime, endTime].forEach(el => el.addEventListener('change', updateSummary));
    };
  </script>
</body>
</html>
